<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Let's Train!</title>
  </head>
  <body>
    <p id="p1">Press The Button to Start!</p>

    <img id="display image" src="https://static.wixstatic.com/media/849542_3d56dee2e72649a39ae655f407f583d3~mv2.jpg" style="height:300px">

    <button id="startButton">Let's Train!</button>
    
  </body>
        <script>
        // JavaScript file for shotokai project

        let stances = [ 
            Seiza = "Seiza https://static.wixstatic.com/mp3/849542_4e9ef9c3a13b44afb8ec3a8e499d815d.mp3 https://static.wixstatic.com/media/849542_a43e129fcd274f70860976fd8d87bd08~mv2.jpg",
            Hachiji_dachi = "Hachiji-dachi https://static.wixstatic.com/mp3/849542_f6ca1437d7a942ebaa01900e7783e007.mp3 https://static.wixstatic.com/media/849542_3d56dee2e72649a39ae655f407f583d3~mv2.jpg",
            Kiba_dachi = "Kiba-dachi https://static.wixstatic.com/mp3/849542_3df85ae05a464c3180a71c3be136681d.mp3 https://static.wixstatic.com/media/849542_375f87aa486f4cb497655ef43f509f45~mv2.jpg",
            Zenkutsu_dachi = "Zenkutsu https://static.wixstatic.com/mp3/849542_1d213302d4154218927698cc5cfe94cd.mp3 https://static.wixstatic.com/media/849542_6684baacef4d4d3b910ff163e97d0c56~mv2.jpg",
            Kokutsu_dachi = "Kokutsu-dachi https://static.wixstatic.com/mp3/849542_e5f8e6433b4e482fa4befbf372c69539.mp3 https://static.wixstatic.com/media/849542_0ee99bf9e9dd4b3fb8621a8ac538674b~mv2.jpg",
            Fudo_dachi = "Fudo-dachi https://static.wixstatic.com/mp3/849542_cc9178564df146c3a236793aea8973dc.mp3 https://static.wixstatic.com/media/849542_ac80b44649f84c44bc8e5c38b878e6ee~mv2.jpg"
            ]

        let hand_techniques = [ Oi_tsuki = "Oi-tsuki https://static.wixstatic.com/mp3/849542_33e26c1cec004e8488f48b564b900b3d.mp3 https://static.wixstatic.com/media/849542_7a7ba18acc0448dd87c1d159ade9fb5b~mv2.jpg",
            Mae_te_tsuki = "Mae_te_tsuki.mp3",
            Gyaku_tsuki = "Gyaku-tsuki https://static.wixstatic.com/mp3/849542_832ff8c1d22447f0861bad3db2289267.mp3 https://static.wixstatic.com/media/849542_cacbfdcc6d6b493099e98d520c44a88f~mv2.jpg",
            Uraken = "Uraken",
            Empi = "Empi",
            Shomen_uchi = "Shomen Uchi",
            Yokomen_uchi = "Yokomen Uchi",
            Tetsui = "Tetsui",
            Morote_tsuki = "Morote Tsuki",
            Yama_tsuki = "Yama Tsuki" ]

        let kicks = [ Mae_geri = "Mae-geri https://static.wixstatic.com/mp3/849542_03ee02c494b441899cfffa0f04b37b84.mp3 https://static.wixstatic.com/media/849542_4d31034f965947a3a74175d9d0377cd1~mv2.jpg",
            Yoko_geri_kekomi = "Yoko_geri_kekomi https://static.wixstatic.com/mp3/849542_5c792b567b2f401fb7792db7d97d04ea.mp3 https://static.wixstatic.com/media/849542_7abd967f391f4f9aa8aae7faf11f04a3~mv2.jpg",
            Yoko_geri_keage = "Keage",
            Fumikomi = "Fumi_komi https://static.wixstatic.com/mp3/849542_0a02f2584ebf4f3c93dd512be412df9e.mp3 https://static.wixstatic.com/media/849542_767662294c874e60ac805c8c32361fdf~mv2.jpg",
            Mawashi_geri = "Mawashi",
            Mikazuki_geri = "Mikazuki",
            Aori_geri = "Aori",
            Nami_gaeshi = "Nami Gaeshi",
            Hiza_tsuchi = "Hiza Tsuchi",
            Nidan_geri = "Nidan" ]

        let blocks = [ Gedan_barai = "Gedan-barai https://static.wixstatic.com/mp3/849542_5d47e80d99ee4a31953520aa0820c35f.mp3 https://static.wixstatic.com/media/849542_c1f4f4b6a09e43bc928e9675be8a4932~mv2.jpg",
            Teisho_barai = "Teisho-barai https://static.wixstatic.com/mp3/849542_90adab1835b6477a9198c91b42d19957.mp3 https://static.wixstatic.com/media/849542_f4c8637a64374477961fc7cc83c7a40a~mv2.jpg",
            Udi_uke = "Udi-uke https://static.wixstatic.com/mp3/849542_fa90912a3c7a4f38bc68d0d32e4d875d.mp3 https://static.wixstatic.com/media/849542_9b381e37441b420099eb5c6e3ce618c6~mv2.jpg",
            Uchikomi = "Uchikomi https://static.wixstatic.com/mp3/849542_aaf7413a6d5947afaaf30779e856874f.mp3 https://static.wixstatic.com/media/849542_e42e4c889a0f48b8abea8b6f81623bbc~mv2.jpg",
            Age_uke = "Age-uke https://static.wixstatic.com/mp3/849542_cc2faced72a844b68d916f77bc9413c0.mp3 https://static.wixstatic.com/media/849542_353a2d5d133f4666b29c67e6214b320a~mv2.jpg",
            Shuto_uke = "Shuto Uke",
            Shuto_barai = "Shuto Barai",
            Morote_uke = "Morote Uke" ]

        let general = [ T_ShodanTate_tsuki = "Tate_tsuki",
            Seiken = "Seiken",
            Hiki_te = "Hiki-te https://static.wixstatic.com/mp3/849542_965228792b444f2ba07821855aa85b83.mp3 https://static.wixstatic.com/media/849542_9563b8087cd94a4db42ec09d6020a849~mv2.jpg",
            Gedan = "Gedan",
            Chudan = "Chudan",
            Jodan = "Jodan",
            Irimi = "Irimi https://static.wixstatic.com/mp3/849542_24b7622c3c8e4548a19fb9f5b7827744.mp3" ]

        let Taikyoku = [ T_Shodan = "Taikyoku-Shodan.mp3",
            T_Nidan = "Taikyoku_Nidan.mp3",
            T_Sandan = "Taikyoku_Sandan.mp3" ]

        let Heian = [ H_Shodan = "Heian_Shodan.mp3",
            H_Nidan = "Heian_Nidan.mp3",
            H_Sandan = "Heian_Sandan.mp3" ]

        let Tekki = [ Te_Shodan = "Tekki_Shodan.mp3" ]

        let redStances = [Seiza, Kiba_dachi, Zenkutsu_dachi, Kokutsu_dachi, Fudo_dachi]
        let redHands = [Oi_tsuki]
        let redKicks = [Mae_geri]

        let redBlocks = [Gedan_barai, Udi_uke]
        let redGeneral = [Hiki_te]

        let redKata = Taikyoku + H_Shodan

        let redExercise = [Seiza, Kiba_dachi, Zenkutsu_dachi, Kokutsu_dachi, Fudo_dachi, Hiki_te, Oi_tsuki, Mae_geri, Gedan_barai, Udi_uke]

        
        let orangeStances = redStances
        let orangeHands = [Gyaku_tsuki]
        let orangeKicks = [Fumikomi, Yoko_geri_kekomi]
        let orangeBlocks = [Teisho_barai, Age_uke, Uchikomi]
        let orangeGeneral = [Irimi]

        let orangeKata = [Heian, Te_Shodan]

        let orangeExercise = [Seiza, Kiba_dachi, Zenkutsu_dachi, Kokutsu_dachi, Fudo_dachi, Gyaku_tsuki, Fumikomi, Yoko_geri_kekomi, Teisho_barai, Age_uke, Uchikomi]
        


        function printItem(item_str) {
            let str_arr = item_str.split(" ");
            let out_str = str_arr[0];
            console.log(out_str);
            
            document.getElementById("p1").innerHTML = out_str;
        }

        function playSound(item_str) {
            let split_url = item_str.split(" ");
            let url = split_url[1];
            let a = new Audio(url);
            let promise = a.play();
        }

        function playMiscSounds(url_str){
            let a = new Audio(url_str);
            a.play();
        }

        function displayImage(item_str) {
            let split_url = item_str.split(" ");
            let url = split_url[2];

            document.getElementById("display image").src = url;
            // do stuff with it
        }

        function getRandIndex(n) {
            // Integrate later
            Math.floor(Math.random() * n);
        }

        function determineExercise(belt_str) {
            if (belt_str.includes("red") | belt_str.includes("Red")) {
                console.log(redExercise);
                return redExercise;
            }
            if (belt_str.includes("orange") | belt_str.includes("Orange")) {
                console.log(orangeExercise);
                return orangeExercise;
            }
        }

        function getBeltFromUser() {
            let beltString = prompt("Please enter the belt grade you wish to practice for", "");
            let beltExercise = determineExercise(beltString);

            if (beltExercise == null) {
              document.getElementById("p1").innerHTML = "reload the page";
            }

            else {
                // play beginning exercise
                document.getElementById("p1").innerHTML = "Beginning Exercise";
                playMiscSounds("https://static.wixstatic.com/mp3/849542_4792bb57a76f468faf8b3ac7dd08b684.mp3");
                setTimeout(() => {doExercise(beltExercise); }, 6000);
                
            }
        }

        function doExercise(beltExercise) {
            let n = beltExercise.length;

            for (let i = 0; i < n; i++) {
                let item = beltExercise[i];
                setTimeout(() => {  
                    printItem(item); 
                    playSound(item);
                    displayImage(item);
                }, (4000 * i));

                if (i == n - 1){
                    setTimeout(() => { document.getElementById("p1").innerHTML = "Exercise Complete, Press the button to restart"; playMiscSounds("https://static.wixstatic.com/mp3/849542_87965a49adbc4f38a275b20271b06637.mp3"); document.getElementById("display image").src = "https://static.wixstatic.com/media/849542_1fb2d575cb804ff49a21a2a075c0b801~mv2.png";}, 4000 * n);
                }
            }
        }
        
    window.onload = function() {        
        document.getElementById("startButton").onclick = function(){getBeltFromUser(); }
    };
    

    </script>

</html>